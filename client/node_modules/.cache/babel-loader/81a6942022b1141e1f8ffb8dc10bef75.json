{"ast":null,"code":"import _regeneratorRuntime from \"/home/alli959/Desktop/H\\xE1sl\\xF3li \\xCDslands 2-20191211T231337Z-001/H\\xE1sl\\xF3li \\xCDslands 2/lokaverkefni/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alli959/Desktop/H\\xE1sl\\xF3li \\xCDslands 2-20191211T231337Z-001/H\\xE1sl\\xF3li \\xCDslands 2/lokaverkefni/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/alli959/Desktop/H\\xE1sl\\xF3li \\xCDslands 2-20191211T231337Z-001/H\\xE1sl\\xF3li \\xCDslands 2/lokaverkefni/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alli959/Desktop/H\\xE1sl\\xF3li \\xCDslands 2-20191211T231337Z-001/H\\xE1sl\\xF3li \\xCDslands 2/lokaverkefni/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alli959/Desktop/H\\xE1sl\\xF3li \\xCDslands 2-20191211T231337Z-001/H\\xE1sl\\xF3li \\xCDslands 2/lokaverkefni/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alli959/Desktop/H\\xE1sl\\xF3li \\xCDslands 2-20191211T231337Z-001/H\\xE1sl\\xF3li \\xCDslands 2/lokaverkefni/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alli959/Desktop/H\\xE1sl\\xF3li \\xCDslands 2-20191211T231337Z-001/H\\xE1sl\\xF3li \\xCDslands 2/lokaverkefni/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/alli959/Desktop/H\\xE1sl\\xF3li \\xCDslands 2-20191211T231337Z-001/H\\xE1sl\\xF3li \\xCDslands 2/lokaverkefni/client/src/components/orderView/OrderView.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport './orderView.css';\n\nvar OrderView =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(OrderView, _Component);\n\n  function OrderView() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, OrderView);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(OrderView)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      food: [],\n      countItemsInFood: []\n    };\n\n    _this.handleButtonClick = function (e) {\n      var buttonName = e.currentTarget.getAttribute('name');\n\n      if (buttonName === \"clearOrder\") {\n        _this.props.clickHandler(\"clear\");\n      } else if (buttonName === \"finishOrder\") {\n        _this.props.clickHandler(\"finish\");\n      } else {\n        _this.props.clickHandler(\"change\");\n      }\n    };\n\n    _this.addFood = function (foods, id, plusPriceArr) {\n      var plus = _this.props.plus;\n      var minus = _this.props.minus;\n      return React.createElement(\"div\", {\n        className: \"FoodItem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"orderItem\",\n        key: id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"foodName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, foods.name)), React.createElement(\"div\", {\n        className: \"foodPrice\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, foods.price !== 0 ? React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, foods.price, \"kr.\") : React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }))), minus[id] != \"NONE\" ? React.createElement(\"div\", {\n        className: \"MINUS\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        style: {\n          maxHeight: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"m\\xEDnus\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, minus[id])) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), plus[id] !== \"NONE\" ? React.createElement(\"div\", {\n        className: \"PLUS\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        style: {\n          maxHeight: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"pl\\xFAs\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, plus[id].split(',').map(function (plusName, index) {\n        return React.createElement(\"div\", {\n          key: index + plusName,\n          className: \"PLUS_VALUES\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, plusName), React.createElement(\"p\", {\n          style: {\n            fontWeight: \"bold\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, plusPriceArr[id][index], \"kr.\"));\n      }))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(OrderView, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var foods, minus, plus, plusPrice, countItemsInFood, i;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.props.food;\n\n              case 2:\n                foods = _context.sent;\n                _context.next = 5;\n                return this.props.minus;\n\n              case 5:\n                minus = _context.sent;\n                _context.next = 8;\n                return this.props.minus;\n\n              case 8:\n                plus = _context.sent;\n                _context.next = 11;\n                return this.props.plusPrice;\n\n              case 11:\n                plusPrice = _context.sent;\n                countItemsInFood = this.state.countItemsInFood;\n\n                for (i = 0; i < foods.length; i++) {\n                  if (foods[i].name.includes(\"TilboÃ°\")) {\n                    countItemsInFood.push(foods[i].contains.length);\n                  } else {\n                    countItemsInFood.push(1);\n                  }\n                }\n\n                this.setState({\n                  food: foods,\n                  countItemsInFood: countItemsInFood\n                });\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          food = _this$props.food,\n          minus = _this$props.minus,\n          plus = _this$props.plus,\n          plusPrice = _this$props.plusPrice;\n      var countItemsInFood = this.props.countItemsInFood;\n      console.log(\"countItemsInFood\", countItemsInFood);\n      console.log(\"food\", food);\n      console.log(\"minus\", minus);\n      var plusPriceArr = [];\n\n      for (var i = 0; i < plusPrice.length; i++) {\n        var temp = plusPrice[i].split(',');\n        plusPriceArr.push(temp);\n      }\n\n      console.log(\"plusPriceArr\", plusPriceArr);\n\n      if (food.length !== 0) {\n        // start by finding total price.\n        var totalPrice = 0;\n        food.map(function (foods) {\n          return totalPrice += foods.price;\n        });\n        plusPrice.map(function (value) {\n          if (value !== \"NONE\") {\n            var _temp = value.split(',');\n\n            for (var _i = 0; _i < _temp.length; _i++) {\n              totalPrice += parseInt(_temp[_i]);\n            }\n          }\n        }); //adding an itemId\n\n        var itemId = [];\n\n        for (var _i2 = 0; _i2 < food.length; _i2++) {\n          if (food[_i2].name.includes('TilboÃ°')) {\n            for (var j = 0; j < food[_i2].contains.length; j++) {\n              itemId.push(itemId.length);\n            }\n          } else {\n            itemId.push(itemId.length);\n          }\n        }\n\n        return React.createElement(\"div\", {\n          className: \"order\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"order-box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"orderBox\",\n          style: {\n            background: \"white\",\n            marginTop: '1em'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"orderBoxValues\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, food.map(function (foods, id) {\n          return React.createElement(\"div\", {\n            key: id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 182\n            },\n            __self: this\n          }, countItemsInFood[id] === 1 ? React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 184\n            },\n            __self: this\n          }, _this2.addFood(foods, itemId.shift(), plusPriceArr)) : React.createElement(\"div\", {\n            className: \"OfferItem\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"foodName\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 189\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"Offer\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 190\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"Offer-Header\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 191\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 192\n            },\n            __self: this\n          }, foods.name), React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 193\n            },\n            __self: this\n          }, foods.price)), foods.contains.split(',').map(function (contains, index) {\n            return React.createElement(\"div\", {\n              key: index + \"subItem\",\n              className: \"itemName\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 196\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 197\n              },\n              __self: this\n            }, _this2.addFood({\n              name: contains,\n              price: 0\n            }, itemId.shift(), plusPriceArr)));\n          })))));\n        }), React.createElement(\"div\", {\n          className: \"totalPrice\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, \"Samtals:\"), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, totalPrice, \"kr.\")))), React.createElement(\"ul\", {\n          className: \"orderButtons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: this.handleButtonClick,\n          key: \"changeOrder\",\n          name: \"changeOrder\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"change_Order\",\n          href: \"#changeorder\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, \"Breyta P\\xF6ntun\")), React.createElement(\"button\", {\n          onClick: this.handleButtonClick,\n          key: \"finishOrder\",\n          name: \"finishOrder\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"finish_Order\",\n          href: \"#finishorder\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, \"Kl\\xE1ra P\\xF6ntun\")), React.createElement(\"button\", {\n          onClick: this.handleButtonClick,\n          key: \"clearOrder\",\n          name: \"clearOrder\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"clearOrder_font\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, \"Hreinsa P\\xF6ntun\")))));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"orderBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, \"Engar pantanir skr\\xE1\\xF0ar\");\n    }\n  }]);\n\n  return OrderView;\n}(Component);\n\nOrderView.propTypes = {\n  dispatch: PropTypes.func,\n  food: PropTypes.array,\n  minus: PropTypes.array,\n  plus: PropTypes.array,\n  plusPrice: PropTypes.array,\n  clickHandler: PropTypes.func\n};\nOrderView.propTypes = {\n  food: PropTypes.array\n};\nexport default withRouter(OrderView);","map":{"version":3,"sources":["/home/alli959/Desktop/HÃ¡slÃ³li Ãslands 2-20191211T231337Z-001/HÃ¡slÃ³li Ãslands 2/lokaverkefni/client/src/components/orderView/OrderView.js"],"names":["React","Component","PropTypes","withRouter","OrderView","state","food","countItemsInFood","handleButtonClick","e","buttonName","currentTarget","getAttribute","props","clickHandler","addFood","foods","id","plusPriceArr","plus","minus","name","price","maxHeight","split","map","plusName","index","fontWeight","plusPrice","i","length","includes","push","contains","setState","console","log","temp","totalPrice","value","parseInt","itemId","j","background","marginTop","shift","propTypes","dispatch","func","array"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {withRouter } from 'react-router-dom'\r\n\r\n\r\n\r\n\r\n\r\nimport './orderView.css';\r\n\r\n\r\n\r\nclass OrderView extends Component {\r\n\r\n\r\n\r\n    state = {\r\n        food:[],\r\n        countItemsInFood: [],\r\n    }\r\n\r\n    static propTypes = {\r\n        dispatch: PropTypes.func,\r\n        food: PropTypes.array,\r\n        minus: PropTypes.array,\r\n        plus: PropTypes.array,\r\n        plusPrice: PropTypes.array,\r\n        clickHandler: PropTypes.func,\r\n    }\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n    async componentDidMount() {\r\n        let foods = await this.props.food;\r\n        let minus = await this.props.minus;\r\n        let plus = await this.props.minus;\r\n        let plusPrice = await this.props.plusPrice;\r\n        let {countItemsInFood} = this.state;\r\n        for(let i = 0; i<foods.length; i++){\r\n            if(foods[i].name.includes(\"TilboÃ°\")){\r\n                countItemsInFood.push(foods[i].contains.length);\r\n            }\r\n            else{\r\n                countItemsInFood.push(1);\r\n            }\r\n        }\r\n        this.setState({\r\n            food: foods,\r\n            countItemsInFood: countItemsInFood,\r\n        })\r\n\r\n\r\n    }\r\n\r\n    handleButtonClick = (e) =>{\r\n    \r\n        let buttonName = e.currentTarget.getAttribute('name');\r\n        if(buttonName === \"clearOrder\"){\r\n            this.props.clickHandler(\"clear\");\r\n        }\r\n        else if(buttonName === \"finishOrder\"){\r\n            this.props.clickHandler(\"finish\");\r\n        }\r\n        else{\r\n            this.props.clickHandler(\"change\");\r\n        }\r\n    }\r\n    \r\n\r\n\r\n    addFood = (foods, id, plusPriceArr) => {\r\n        const {plus} = this.props;\r\n        const {minus} = this.props;\r\n\r\n\r\n        return (\r\n            <div className = \"FoodItem\">\r\n\r\n            <li className = \"orderItem\" key = {id}>\r\n                <div className = \"foodName\">\r\n                    <h4>{foods.name}</h4>\r\n                </div>\r\n                <div className = \"foodPrice\">\r\n                    {foods.price !== 0?\r\n                    <h4>{foods.price}kr.</h4>:<h4></h4>\r\n                }\r\n                </div>\r\n            </li>\r\n            {minus[id] != \"NONE\"?\r\n            <div className = \"MINUS\">\r\n                <h5 style = {{maxHeight: \"20px\"}}>mÃ­nus</h5>\r\n                <p>{minus[id]}</p>    \r\n                </div>:<div></div>\r\n                }\r\n                {plus[id] !== \"NONE\"?\r\n                <div className = \"PLUS\">\r\n                    <h5 style = {{maxHeight: \"20px\"}}>plÃºs</h5>\r\n                    <div>\r\n\r\n                    {plus[id].split(',').map((plusName, index) =>\r\n                    <div key = {index + plusName}  className = \"PLUS_VALUES\">\r\n                        <p>{plusName}</p>\r\n                        <p style = {{fontWeight: \"bold\"}}>{plusPriceArr[id][index]}kr.</p>\r\n                    </div>\r\n                    )}\r\n                    </div>\r\n                </div>:<div></div>\r\n                    \r\n                }                           \r\n\r\n                </div>\r\n        )\r\n    }\r\n        \r\n\r\n\r\n    render() {\r\n\r\n        const {food, minus, plus, plusPrice} = this.props;\r\n        const {countItemsInFood} = this.props;\r\n\r\n        console.log(\"countItemsInFood\", countItemsInFood);\r\n        console.log(\"food\",food);\r\n        console.log(\"minus\", minus);\r\n\r\n        const plusPriceArr = [];\r\n        for(let i = 0; i<plusPrice.length; i++ ){\r\n            const temp = plusPrice[i].split(',');\r\n            plusPriceArr.push(temp);\r\n        }\r\n\r\n        console.log(\"plusPriceArr\",plusPriceArr);\r\n\r\n        \r\n\r\n    if(food.length !== 0){\r\n        // start by finding total price.\r\n        let totalPrice = 0;\r\n        food.map(foods =>\r\n            totalPrice += foods.price\r\n        );\r\n        plusPrice.map((value) => {\r\n\r\n            if(value !== \"NONE\"){\r\n                const temp = value.split(',');\r\n                for(let i = 0; i<temp.length; i++){\r\n                    totalPrice += parseInt(temp[i]);\r\n                }\r\n            }\r\n        });\r\n        \r\n\r\n        //adding an itemId\r\n\r\n        let itemId = [];\r\n        for(let i = 0; i<food.length; i++){\r\n            if(food[i].name.includes('TilboÃ°')){\r\n                for(let j = 0; j<food[i].contains.length; j++){\r\n                    itemId.push(itemId.length);\r\n                }\r\n            }\r\n            else{\r\n                itemId.push(itemId.length);\r\n            }\r\n        }\r\n        \r\n        \r\n        \r\n        return (\r\n            <div className = \"order\">\r\n            <div className = \"order-box\">\r\n\r\n                <div className = \"orderBox\" style = {{background: \"white\", marginTop: '1em'}}>\r\n                    <ul className = \"orderBoxValues\">\r\n                        {food.map((foods,id) =>\r\n                        <div key = {id}>\r\n                        {countItemsInFood[id] === 1?\r\n                        <div>\r\n                            {this.addFood(foods, itemId.shift(), plusPriceArr)}\r\n                        </div>\r\n                        :\r\n                        <div className = \"OfferItem\">\r\n                                <div className = \"foodName\">\r\n                                    <div className = \"Offer\">\r\n                                        <div className = \"Offer-Header\">\r\n                                            <h3>{foods.name}</h3>\r\n                                            <h3>{foods.price}</h3>\r\n                                        </div>\r\n                                        {foods.contains.split(',').map((contains,index) =>\r\n                                        <div  key = {index+\"subItem\"} className = \"itemName\">\r\n                                            <div>\r\n                                            {this.addFood({\r\n                                                name: contains,\r\n                                                price: 0\r\n                                            }, itemId.shift(), plusPriceArr)}\r\n                                            </div>\r\n                                        </div>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                        </div>\r\n                    }\r\n                    </div>\r\n                        )}\r\n                        <div className = \"totalPrice\">\r\n                            <h4>Samtals:</h4>\r\n                            <h4>{totalPrice}kr.</h4>\r\n                        </div>\r\n                    </ul>\r\n                </div>\r\n                <ul className = \"orderButtons\">\r\n                    <button onClick={this.handleButtonClick} key=\"changeOrder\" name=\"changeOrder\"><a className = \"change_Order\" href=\"#changeorder\">Breyta PÃ¶ntun</a></button>\r\n                    <button onClick={this.handleButtonClick} key=\"finishOrder\" name=\"finishOrder\"><a className = \"finish_Order\" href=\"#finishorder\">KlÃ¡ra PÃ¶ntun</a></button>\r\n                    <button onClick={this.handleButtonClick} key=\"clearOrder\" name=\"clearOrder\"><a className = \"clearOrder_font\">Hreinsa PÃ¶ntun</a></button>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n    \r\n    \r\n    return(\r\n        <div className = \"orderBox\">\r\n            Engar pantanir skrÃ¡Ã°ar\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nOrderView.propTypes = {\r\n    food: PropTypes.array,\r\n\r\n}\r\n\r\n\r\nexport default withRouter(OrderView);\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}